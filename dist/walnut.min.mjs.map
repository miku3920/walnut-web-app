{"version":3,"file":"walnut.min.mjs","mappings":"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","sources":["webpack://walnut-web-app/webpack/bootstrap","webpack://walnut-web-app/webpack/runtime/define property getters","webpack://walnut-web-app/webpack/runtime/hasOwnProperty shorthand","webpack://walnut-web-app/./src/esm/walnut/HMAC_SHA256.mjs","webpack://walnut-web-app/./src/esm/walnut/utils.mjs","webpack://walnut-web-app/./src/esm/walnut/event.mjs","webpack://walnut-web-app/./src/esm/index.mjs"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/* eslint-disable */\n\nvar create = Object.create || (function () {\n  function F() { }\n\n  return function (obj) {\n    var subtype;\n\n    F.prototype = obj;\n\n    subtype = new F();\n\n    F.prototype = null;\n\n    return subtype;\n  };\n}());\n\nvar Base = (function () {\n  return {\n    extend: function (overrides) {\n      var subtype = create(this);\n\n      if (overrides) {\n        subtype.mixIn(overrides);\n      }\n\n      if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n        subtype.init = function () {\n          subtype.$super.init.apply(this, arguments);\n        };\n      }\n\n      subtype.init.prototype = subtype;\n      subtype.$super = this;\n\n      return subtype;\n    },\n    create: function () {\n      var instance = this.extend();\n      instance.init.apply(instance, arguments);\n\n      return instance;\n    },\n    init: function () {\n    },\n    mixIn: function (properties) {\n      for (var propertyName in properties) {\n        if (properties.hasOwnProperty(propertyName)) {\n          this[propertyName] = properties[propertyName];\n        }\n      }\n      if (properties.hasOwnProperty('toString')) {\n        this.toString = properties.toString;\n      }\n    },\n    clone: function () {\n      return this.init.prototype.extend(this);\n    }\n  };\n}());\n\nvar WordArray = Base.extend({\n  init: function (words, sigBytes) {\n    words = this.words = words || [];\n\n    if (sigBytes != undefined) {\n      this.sigBytes = sigBytes;\n    } else {\n      this.sigBytes = words.length * 4;\n    }\n  },\n  toString: function (encoder) {\n    return (encoder || Hex).stringify(this);\n  },\n  concat: function (wordArray) {\n    var thisWords = this.words;\n    var thatWords = wordArray.words;\n    var thisSigBytes = this.sigBytes;\n    var thatSigBytes = wordArray.sigBytes;\n\n    this.clamp();\n\n    if (thisSigBytes % 4) {\n      for (var i = 0; i < thatSigBytes; i++) {\n        var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n        thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n      }\n    } else {\n      for (var j = 0; j < thatSigBytes; j += 4) {\n        thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n      }\n    }\n    this.sigBytes += thatSigBytes;\n\n    return this;\n  },\n  clamp: function () {\n    var words = this.words;\n    var sigBytes = this.sigBytes;\n\n    words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n    words.length = Math.ceil(sigBytes / 4);\n  },\n  clone: function () {\n    var clone = Base.clone.call(this);\n    clone.words = this.words.slice(0);\n\n    return clone;\n  }\n});\n\nvar Hex = {\n  stringify: function (wordArray) {\n    var words = wordArray.words;\n    var sigBytes = wordArray.sigBytes;\n\n    var hexChars = [];\n    for (var i = 0; i < sigBytes; i++) {\n      var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n      hexChars.push((bite >>> 4).toString(16));\n      hexChars.push((bite & 0x0f).toString(16));\n    }\n\n    return hexChars.join('');\n  },\n  parse: function (hexStr) {\n    var hexStrLength = hexStr.length;\n\n    var words = [];\n    for (var i = 0; i < hexStrLength; i += 2) {\n      words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n    }\n\n    return new WordArray.init(words, hexStrLength / 2);\n  }\n};\n\nvar Latin1 = {\n  stringify: function (wordArray) {\n    var words = wordArray.words;\n    var sigBytes = wordArray.sigBytes;\n\n    var latin1Chars = [];\n    for (var i = 0; i < sigBytes; i++) {\n      var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n      latin1Chars.push(String.fromCharCode(bite));\n    }\n\n    return latin1Chars.join('');\n  },\n  parse: function (latin1Str) {\n    var latin1StrLength = latin1Str.length;\n\n    var words = [];\n    for (var i = 0; i < latin1StrLength; i++) {\n      words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n    }\n\n    return new WordArray.init(words, latin1StrLength);\n  }\n};\n\nvar Utf8 = {\n  stringify: function (wordArray) {\n    try {\n      return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n    } catch (e) {\n      throw new Error('Malformed UTF-8 data');\n    }\n  },\n  parse: function (utf8Str) {\n    return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n  }\n};\n\nvar BufferedBlockAlgorithm = Base.extend({\n  reset: function () {\n    this._data = new WordArray.init();\n    this._nDataBytes = 0;\n  },\n  _append: function (data) {\n    if (typeof data == 'string') {\n      data = Utf8.parse(data);\n    }\n\n    this._data.concat(data);\n    this._nDataBytes += data.sigBytes;\n  },\n  _process: function (doFlush) {\n    var processedWords;\n\n    var data = this._data;\n    var dataWords = data.words;\n    var dataSigBytes = data.sigBytes;\n    var blockSize = this.blockSize;\n    var blockSizeBytes = blockSize * 4;\n\n    var nBlocksReady = dataSigBytes / blockSizeBytes;\n    if (doFlush) {\n      nBlocksReady = Math.ceil(nBlocksReady);\n    } else {\n      nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n    }\n\n    var nWordsReady = nBlocksReady * blockSize;\n    var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n    if (nWordsReady) {\n      for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n        this._doProcessBlock(dataWords, offset);\n      }\n      processedWords = dataWords.splice(0, nWordsReady);\n      data.sigBytes -= nBytesReady;\n    }\n    return new WordArray.init(processedWords, nBytesReady);\n  },\n  clone: function () {\n    var clone = Base.clone.call(this);\n    clone._data = this._data.clone();\n\n    return clone;\n  },\n  _minBufferSize: 0\n});\n\nvar Hasher = BufferedBlockAlgorithm.extend({\n  cfg: Base.extend(),\n  init: function (cfg) {\n    this.cfg = this.cfg.extend(cfg);\n    this.reset();\n  },\n  reset: function () {\n    BufferedBlockAlgorithm.reset.call(this);\n    this._doReset();\n  },\n  update: function (messageUpdate) {\n    this._append(messageUpdate);\n    this._process();\n\n    return this;\n  },\n  finalize: function (messageUpdate) {\n    if (messageUpdate) {\n      this._append(messageUpdate);\n    }\n    var hash = this._doFinalize();\n    return hash;\n  },\n  blockSize: 512 / 32\n});\n\nvar HMAC = Base.extend({\n  init: function (hasher, key) {\n    hasher = this._hasher = new hasher.init();\n\n    if (typeof key == 'string') {\n      key = Utf8.parse(key);\n    }\n\n    var hasherBlockSize = hasher.blockSize;\n    var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n    if (key.sigBytes > hasherBlockSizeBytes) {\n      key = hasher.finalize(key);\n    }\n\n    key.clamp();\n\n    var oKey = this._oKey = key.clone();\n    var iKey = this._iKey = key.clone();\n\n    var oKeyWords = oKey.words;\n    var iKeyWords = iKey.words;\n\n    for (var i = 0; i < hasherBlockSize; i++) {\n      oKeyWords[i] ^= 0x5c5c5c5c;\n      iKeyWords[i] ^= 0x36363636;\n    }\n    oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n    this.reset();\n  },\n  reset: function () {\n    var hasher = this._hasher;\n\n    hasher.reset();\n    hasher.update(this._iKey);\n  },\n  update: function (messageUpdate) {\n    this._hasher.update(messageUpdate);\n\n    return this;\n  },\n  finalize: function (messageUpdate) {\n    var hasher = this._hasher;\n\n    var innerHash = hasher.finalize(messageUpdate);\n    hasher.reset();\n    var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n    return hmac;\n  }\n});\n\nvar H = [];\nvar K = [];\n\n(function () {\n  function isPrime(n) {\n    var sqrtN = Math.sqrt(n);\n    for (var factor = 2; factor <= sqrtN; factor++) {\n      if (!(n % factor)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  function getFractionalBits(n) {\n    return ((n - (n | 0)) * 0x100000000) | 0;\n  }\n  var n = 2;\n  var nPrime = 0;\n  while (nPrime < 64) {\n    if (isPrime(n)) {\n      if (nPrime < 8) {\n        H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n      }\n      K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n      nPrime++;\n    }\n\n    n++;\n  }\n}());\n\nvar W = [];\n\nvar SHA256 = Hasher.extend({\n  _doReset: function () {\n    this._hash = new WordArray.init(H.slice(0));\n  },\n  _doProcessBlock: function (M, offset) {\n    var H = this._hash.words;\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n    var f = H[5];\n    var g = H[6];\n    var h = H[7];\n\n    for (var i = 0; i < 64; i++) {\n      if (i < 16) {\n        W[i] = M[offset + i] | 0;\n      } else {\n        var gamma0x = W[i - 15];\n        var gamma0 = ((gamma0x << 25) | (gamma0x >>> 7)) ^\n          ((gamma0x << 14) | (gamma0x >>> 18)) ^\n          (gamma0x >>> 3);\n\n        var gamma1x = W[i - 2];\n        var gamma1 = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n          ((gamma1x << 13) | (gamma1x >>> 19)) ^\n          (gamma1x >>> 10);\n\n        W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n      }\n\n      var ch = (e & f) ^ (~e & g);\n      var maj = (a & b) ^ (a & c) ^ (b & c);\n\n      var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n      var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7) | (e >>> 25));\n\n      var t1 = h + sigma1 + ch + K[i] + W[i];\n      var t2 = sigma0 + maj;\n\n      h = g;\n      g = f;\n      f = e;\n      e = (d + t1) | 0;\n      d = c;\n      c = b;\n      b = a;\n      a = (t1 + t2) | 0;\n    }\n\n    H[0] = (H[0] + a) | 0;\n    H[1] = (H[1] + b) | 0;\n    H[2] = (H[2] + c) | 0;\n    H[3] = (H[3] + d) | 0;\n    H[4] = (H[4] + e) | 0;\n    H[5] = (H[5] + f) | 0;\n    H[6] = (H[6] + g) | 0;\n    H[7] = (H[7] + h) | 0;\n  },\n  _doFinalize: function () {\n    var data = this._data;\n    var dataWords = data.words;\n\n    var nBitsTotal = this._nDataBytes * 8;\n    var nBitsLeft = data.sigBytes * 8;\n\n    dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n    dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n    dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n    data.sigBytes = dataWords.length * 4;\n\n    this._process();\n    return this._hash;\n  },\n  clone: function () {\n    var clone = Hasher.clone.call(this);\n    clone._hash = this._hash.clone();\n\n    return clone;\n  }\n});\n\nfunction HMAC_SHA256(data, secret, hex) {\n  var hash = new HMAC.init(SHA256, secret).finalize(data);\n  return hex ? hash.toString() : hash;\n}\n\nexport default HMAC_SHA256;\n","import HMAC_SHA256 from './HMAC_SHA256.mjs'\n\nfunction buildDataCheckString(dataParams) {\n  const dataCheckArray = []\n  Object.keys(dataParams).sort().forEach((key) => {\n    dataCheckArray.push(`${key}=${dataParams[key]}`)\n  })\n  return dataCheckArray.join('\\n')\n}\n\nfunction createVerificationHash(dataParams) {\n  const { token } = dataParams\n  delete dataParams.token\n\n  const dataCheckString = buildDataCheckString(dataParams)\n\n  const secretKey = HMAC_SHA256(token, 'WebAppData')\n  return HMAC_SHA256(dataCheckString, secretKey, true)\n}\n\nfunction dataSafeStringify(data) {\n  return JSON.stringify(data).replace(/\\//g, '\\\\/')\n}\n\nfunction stringifyDataParams(dataParams) {\n  if (typeof dataParams.user !== 'undefined') {\n    dataParams.user = dataSafeStringify(dataParams.user)\n  }\n  if (typeof dataParams.receiver !== 'undefined') {\n    dataParams.receiver = dataSafeStringify(dataParams.receiver)\n  }\n  if (typeof dataParams.chat !== 'undefined') {\n    dataParams.chat = dataSafeStringify(dataParams.chat)\n  }\n  return dataParams\n}\n\nfunction urlSafeEncode(urldecoded) {\n  try {\n    urldecoded = encodeURIComponent(urldecoded)\n  } catch (e) { }\n  return urldecoded\n}\n\nfunction urlStringifyQueryParams(queryParams) {\n  const queryArray = []\n  Object.keys(queryParams).forEach((key) => {\n    queryArray.push(`${urlSafeEncode(key)}=${urlSafeEncode(queryParams[key])}`)\n  })\n  return queryArray.join('&')\n}\n\nfunction urlStringifyHashString(params) {\n  const debugString = params.Debug ? '1' : ''\n  const themeString = JSON.stringify(params.ThemeParams)\n  const versionString = `${params.Version}`\n  const dataParams = stringifyDataParams(params.Data)\n  dataParams.hash = createVerificationHash(dataParams)\n\n  const dataString = urlStringifyQueryParams(dataParams)\n\n  const queryParams = {\n    tgWebAppData: dataString,\n    tgWebAppVersion: versionString,\n    tgWebAppThemeParams: themeString,\n  }\n\n  if (typeof params.Debug !== 'undefined') {\n    queryParams.tgWebAppDebug = debugString\n  }\n\n  return `#${urlStringifyQueryParams(queryParams)}`\n}\n\nfunction setup(option) {\n  option = option || {}\n  option.Data = option.Data || {}\n  option.Data.user = option.Data.user || {\n    id: 127355800,\n    first_name: '初音',\n    last_name: 'ミク',\n    username: 'miku3920',\n    language_code: 'zh-hant',\n  }\n  option.Data.auth_date = option.Data.auth_date || Date.now()\n  option.Data.token = option.Data.token || '1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n  option.Version = option.Version || '6.1'\n  option.ThemeParams = option.ThemeParams || {\n    bg_color: '#ffffff',\n    button_color: '#40a7e3',\n    button_text_color: '#ffffff',\n    hint_color: '#999999',\n    link_color: '#168acd',\n    text_color: '#000000',\n  }\n  option.Debug = option.Debug || true\n\n  window.location.hash = urlStringifyHashString(option)\n}\n\nsetup()\n\nexport default {\n  setup,\n  urlStringifyHashString,\n  urlStringifyQueryParams,\n  urlSafeEncode,\n  stringifyDataParams,\n  dataSafeStringify,\n  createVerificationHash,\n  buildDataCheckString,\n  HMAC_SHA256,\n}\n","const handler = {}\nconst funcEmpty = () => {}\n\nconst getOriginalPost = window.TelegramWebviewProxy !== undefined ? (type, data) => () => {\n  if (window.external && window.external.invoke) {\n    window.external.invoke(JSON.stringify([type, data]))\n  }\n} : (type, data) => () => {\n  // eslint-disable-next-line no-console\n  console.log('[Walnut.debug] postEvent', type, data)\n}\n\nhandler.default = (e) => {\n  // eslint-disable-next-line no-console\n  console.log('[Walnut.default] postEvent', e.type, e.data)\n}\n\nhandler.all = funcEmpty\n\nfunction receive(type, data) {\n  const event = {\n    type,\n    data,\n    post: getOriginalPost(type, data),\n  }\n\n  const func = handler[type] || handler.default || funcEmpty\n  try {\n    func(event)\n  } catch (e) { }\n\n  const funcAll = handler.all || funcEmpty\n  try {\n    funcAll(event)\n  } catch (e) { }\n}\n\nfunction on(type, callback) {\n  handler[type] = callback\n}\n\nfunction off(type) {\n  handler[type] = funcEmpty\n}\n\nwindow.TelegramWebviewProxy = {\n  postEvent: receive,\n}\n\nexport default {\n  on,\n  off,\n  receive,\n}\n","/* eslint-disable camelcase */\nimport module_utils from './walnut/utils.mjs'\nimport module_event from './walnut/event.mjs'\n\nexport const utils = module_utils\nexport const event = module_event\n\nconst walnut = {\n  utils: module_utils,\n  event: module_event,\n}\n\nexport default walnut\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","create","F","subtype","Base","extend","overrides","this","mixIn","init","$super","apply","arguments","instance","properties","propertyName","toString","clone","WordArray","words","sigBytes","undefined","length","encoder","Hex","stringify","concat","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","i","thatByte","j","Math","ceil","slice","hexChars","bite","push","join","parse","hexStr","hexStrLength","parseInt","substr","Utf8","utf8Str","latin1Str","latin1StrLength","charCodeAt","Latin1","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","data","_process","doFlush","processedWords","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","max","_minBufferSize","nBytesReady","min","offset","_doProcessBlock","splice","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","HMAC","hasher","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","H","K","isPrime","n","sqrtN","sqrt","factor","getFractionalBits","nPrime","pow","W","SHA256","_hash","M","a","b","c","d","e","f","g","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","floor","secret","hex","hash","buildDataCheckString","dataParams","dataCheckArray","keys","sort","forEach","createVerificationHash","token","dataCheckString","secretKey","dataSafeStringify","JSON","replace","stringifyDataParams","user","receiver","chat","urlSafeEncode","urldecoded","urlStringifyQueryParams","queryParams","queryArray","urlStringifyHashString","params","debugString","Debug","themeString","ThemeParams","versionString","Version","Data","tgWebAppData","tgWebAppVersion","tgWebAppThemeParams","tgWebAppDebug","setup","option","id","first_name","last_name","username","language_code","auth_date","Date","now","bg_color","button_color","button_text_color","hint_color","link_color","text_color","window","location","HMAC_SHA256","handler","funcEmpty","getOriginalPost","TelegramWebviewProxy","type","external","invoke","console","log","receive","event","post","func","default","funcAll","all","postEvent","on","callback","off","utils"],"sourceRoot":""}